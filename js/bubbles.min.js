!function(e,t){"function"==typeof define&&define.amd?define([],t):t()}(0,function(){bubble=function(e,t){function o(e){var t,n,r=e?e.split(/, ?/g):[],o=[];for(n=0;n<r.length;n++)1<(t=r[n].split(/:/)).length?o.push({type:t[0].trim(),event:t[1]}):o.push({type:"click",event:t[0]});return o}function u(e,t){var n,r=[];for(e&&e.target&&e.target[d]&&e.target[d](l)?r=o(e.target[d](l)):a[d](l)&&(r=o(a[d](l))),n=0;n<r.length;n++)r[n].type===t&&r[n].event&&c.dispatch(r[n].event,e)}var a,c={},n=document,r={},i=[],f=t||{blur:1,change:1,click:1,dblclick:1,drag:1,dragend:1,dragenter:1,dragleave:1,dragover:1,dragstart:1,drop:1,focus:1,fullscreenchange:1,input:1,keydown:1,keypress:1,keyup:1,mousedown:1,mouseenter:1,mouseleave:1,mousemove:1,mouseout:1,mouseover:1,mouseup:1,paste:1,readystatechange:1,resize:1,scroll:1,touchcancel:1,touchend:1,touchenter:1,touchleave:1,touchmove:1,touchstart:1,transitionend:1,load:1,unload:1},s="querySelector",l="data-bubble-action",d="getAttribute";if(c.root=a=!(!n||!n[s])&&n[s](e),c.on=function(e,t){return"object"==typeof e?i.push(e):(r[e]||(r[e]=[]),r[e].push(t)),c},c.off=function(e,t){if(r[e])for(var n=0;n<r[e].length;n++)if(r[e][n]===t)return r[e].splice(n,1),c;return c},c.dispatch=function(e,t){var n;if(r[e])for(n=0;n<r[e].length;n++)r[e][n](t);if(0<i.length)for(n=0;n<i.length;n++)i[n][e]&&i[n][e](t);return c},a){for(var h in f)!function(t){var e,n,r;n=t,r=function(e){u(e,t)},(e=a).addEventListener?e.addEventListener(n,r,"focus"===n||"blur"===n):e.attachEvent&&e.attachEvent("on"+n,r)}(h);return c}return!1}});